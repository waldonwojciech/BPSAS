/*C3*/SET SCHEMA PUBLIC
alter table conversation_users drop constraint FK5uq0a6o3st6jea8h4y3w54t0i
alter table message drop constraint FK6yskk3hxw5sklwgi25y6d5u1l
alter table tag_announcements drop constraint FKjk6l3son75ufal09lh07heogl
alter table tag_announcements drop constraint FKq6ovpsa0q97x5t3eigh8yeusg
drop table announcement if exists
drop table company if exists
drop table conversation if exists
drop table conversation_users if exists
drop table message if exists
drop table natural_person if exists
drop table tag if exists
drop table tag_announcements if exists
drop table user if exists
drop sequence sequence_announcement if exists
drop sequence sequence_conversation if exists
drop sequence sequence_message if exists
create sequence sequence_announcement start with 1 increment by 1
create sequence sequence_conversation start with 1 increment by 1
create sequence sequence_message start with 1 increment by 1
create table announcement (id bigint not null, content varchar(255), date timestamp, title varchar(255), user_email varchar(255) not null, primary key (id))
create table company (email varchar(255) not null, image_url varchar(255), password varchar(255) not null, company_name varchar(255) not null, primary key (email))
create table conversation (id bigint not null, users_email varchar(255), primary key (id))
create table conversation_users (conversation_id bigint not null, users_email varchar(255) not null, primary key (conversation_id, users_email))
create table message (id bigint not null, content varchar(255) not null, conversation_id bigint not null, primary key (id))
create table natural_person (email varchar(255) not null, image_url varchar(255), password varchar(255) not null, first_name varchar(255) not null, last_name varchar(255) not null, primary key (email))
create table tag (name varchar(255) not null, primary key (name))
create table tag_announcements (tags_name varchar(255) not null, announcements_id bigint not null)
create table user (email varchar(255) not null, image_url varchar(255), password varchar(255) not null, primary key (email))
alter table conversation_users add constraint FK5uq0a6o3st6jea8h4y3w54t0i foreign key (conversation_id) references conversation
alter table message add constraint FK6yskk3hxw5sklwgi25y6d5u1l foreign key (conversation_id) references conversation
alter table tag_announcements add constraint FKjk6l3son75ufal09lh07heogl foreign key (announcements_id) references announcement
alter table tag_announcements add constraint FKq6ovpsa0q97x5t3eigh8yeusg foreign key (tags_name) references tag
INSERT INTO NATURAL_PERSON VALUES('a@gmai4l.com','default.png','aaaaaa','aaaaa','aaaaaa')
COMMIT
INSERT INTO ANNOUNCEMENT VALUES(1,'test-content','2450-09-26 06:09:15.890000','test-title','a@gmai4l.com')
ALTER SEQUENCE PUBLIC.SEQUENCE_ANNOUNCEMENT RESTART WITH 2
COMMIT
INSERT INTO TAG VALUES('1_2')
INSERT INTO TAG_ANNOUNCEMENTS VALUES('1_2',1)
COMMIT
INSERT INTO TAG VALUES('2_2')
INSERT INTO TAG_ANNOUNCEMENTS VALUES('2_2',1)
COMMIT
INSERT INTO ANNOUNCEMENT VALUES(2,'test-content','2450-09-26 06:09:15.890000','test-title','a@gmai4l.com')
ALTER SEQUENCE PUBLIC.SEQUENCE_ANNOUNCEMENT RESTART WITH 3
COMMIT
DELETE FROM TAG_ANNOUNCEMENTS WHERE TAGS_NAME='1_2' AND ANNOUNCEMENTS_ID=1
INSERT INTO TAG_ANNOUNCEMENTS VALUES('1_2',1)
INSERT INTO TAG_ANNOUNCEMENTS VALUES('1_2',2)
COMMIT
DELETE FROM TAG_ANNOUNCEMENTS WHERE TAGS_NAME='2_2' AND ANNOUNCEMENTS_ID=1
INSERT INTO TAG_ANNOUNCEMENTS VALUES('2_2',1)
INSERT INTO TAG_ANNOUNCEMENTS VALUES('2_2',2)
COMMIT
